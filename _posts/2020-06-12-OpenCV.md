---
title: "Fundamental OpenCV functions for Image manipulation"
date: 2020-01-26
tags: [machine learning, ComputerVision]

header:
  image: "/images/perceptron/opencv.png"
excerpt: "machinelearning, Neural Network, Deep Learning"
mathjax: "true"
toc: true
toc_sticky: true
sidebar:
    nav: sidebar-sample

    
---

In this blog post we will learn fundamental OpenCV functions required for image manipulation tasks. let us dive in....

## Image
Image is an array or a matrix of square pixels (picture elements) arranged in columns and rows.

#### Key terms and types of images

**Pixel**: Pixels are building blocks of an image. In other words,  a pixel is the smallest possible image that can be depicted on the screen.

**Binary image**: An image that consists of only black & white pixels

**Grayscale image**: It contains intensity values ranging from a minimum (depicting absolute black) to a maximum (depicting absolute white) and is in between varying shades of gray. Typically, this range is between o & 255.

**Color image**: The image is composed of three primary colors, Red, Green, Blue. Hence also called an RGB image.

**RGB Value**: All colors we can see around us can be made by adding red, blue, green components in varying proportions.


## Reading, Writing images

```python
import cv2
image = cv2.imread('pic.jpg')
cv2.imwrite('output.jpg',image)
```

## Changing color spaces

* **cvtColor** function is used to convert an image from one color space to another
* Some of the popular color conversions such as RGB, BGR, LAB, YaCrCb, and HSV. Since each color space has its own properties, some algorithms or techniques work better in one space than others

* following functions are used to convert from one channel to another channel
    * Converting BGR to RGB: **cv2.COLOR_BGR2RGB**
    * Converting BGR to GRAY: **cv2.COLOR_BGR2GRAY**
    * Converting BGR to HSV: **cv2.COLOR_BGR2HSV**
    
```python
import cv2
import matplotlib.pyplot as plt
image = cv2.imread('peppers.png')

#show the image
plt.imshow(image)
plt.image()

#Color channels conversion
gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
hsv = cv2.cvtColor(image, cv2.COLOR_BGR2HSV)

#Saving images
cv2.imwrite('Gray_channel.jpg',gray)
cv2.imwrite('HSV_channel.jpg',hsv)
```

Result:
 <img src="{{ site.url }}{{ site.baseurl }}/images/openCV/concat_color_channels.jpg" alt="fig 1: Color channels">.

## Separating RGB planes
**cv2.split** function is used to separate the blue, green and red planes
```python
import cv2
import matplotlib.pyplot as plt
image = cv2.imread('peppers.png')
b, g, r=cv2.split(rgb)
#horizontally stacking b, g, r plane images
img1 = cv2.hconcat([b,g,r])
cv2.imwrite('channel_split.jpg',img1)
```
Result:
 <img src="{{ site.url }}{{ site.baseurl }}/images/openCV/channels_split.jpg" alt="fig 2: Separation of B, G, R planes">.







